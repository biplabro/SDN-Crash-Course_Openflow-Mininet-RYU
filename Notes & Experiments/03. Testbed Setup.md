# Tools Installation

**VirtualBox config**

	OS: Ubuntu 18.04.5 x64
	CPU: 2 Cores 
	RAM: 4GB 
	Video Memory: 64 MB
	HDD: 15GB
	Network: Bridged Adapter
	Shared folder: Enabled
	Bidirectional clipboard: Enabled

Preconfigured Ubuntu 18.04 VirtualBox images can be downloaded from [here](https://www.linuxvmimages.com/images/ubuntu-1804/). Default user ID/Pass : **ubuntu/ubuntu**

![vBox config](https://github.com/biplabro/SDN-hands-on_Openflow-Mininet-RYU/blob/master/images/vbox.png)

## Installing Python 3.7 on Ubuntu 18.04.X Desktop Edition

**1. Updating the packages & installing pre-requisites** [1]
```
sudo apt update
sudo apt install software-properties-common
```

**2. Installing DeadSnakes PPA for obtaining latest Python distributions**

```sudo add-apt-repository ppa:deadsnakes/ppa```

**3. Installing Python 3.7**

```sudo apt install python3.7```

**4. Check installation**

```python3.7 --version```

It should give output as below:

```Python 3.7.9```

**Troubleshooting**
In some distributions, Python 3.6 comes by default & ```python3``` calls v 3.6 instead of 3.7. To resolve this issue we need to set v3.7 as the first preference using ```update-alternatices``` command [2]

```sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.7 1```

![Python Default](https://github.com/biplabro/SDN-hands-on_Openflow-Mininet-RYU/blob/master/images/python3.7-default.png)

**5. Installing & updating pip3 repository** [3]

```sudo apt install python3-pip```

### Python 2.7 Installation (Optional)

**Installing python, gcc & other essential packages** 

```sudo apt-get update; sudo apt-get upgrade; sudo apt dist-upgrade; sudo apt-get install git gcc python-dev libffi-dev libssl-dev libxml2-dev libxslt1-dev zlib1g-dev python-pip; sudo apt autoremove```

![update & install tools](https://github.com/biplabro/SDN-hands-on_Openflow-Mininet-RYU/blob/master/images/update.png)

Python 2.7.x will be installed. It is suggested to run the above line of codes twice if installing for the first time. 

##### Troubleshooting with Python 2.7
In some OS installation the ```ryu-manager --version``` command might come up with errors. To fix this we need to install an additional package called *tinyrpc version 0.9.4* from the pip repository. RYU comes with tinyrpc latest version, which is not compatible in python 2.7 RYU. So we need to install lower version of tinyrpc.

```sudo pip install tinyrpc==0.9.4```

![python --version](https://github.com/biplabro/SDN-hands-on_Openflow-Mininet-RYU/blob/master/images/python%20version.png)

## Testbed Tools Installation

**Required Tools**

	mininet
	openvswitch
	iperf
	curl
	hping3
	apache bench
	wireshark
	ryu
All the above tools can be downloaded using the default package manager 'apt' except for ryu. RYU will be downloaded from the pip repository

##### Mininet Installation
```sudo apt-get install -y mininet```

##### Openvswitch Installation
```sudo apt-get install openvswitch-switch```

##### Traffic Test Tools installation
```sudo apt-get install iperf; sudo apt-get install curl; sudo apt-get install hping3; sudo apt-get install apache2-utils```

##### Wireshark Installation
```sudo apt-get install -y wireshark```

##### RYU installation
```pip3 install ryu```

**Troubleshooting**
```
ubuntu@ubuntu1804:~$ pip3 install ryu
Traceback (most recent call last):
  File "/usr/local/bin/pip3", line 7, in <module>
    from pip._internal.cli.main import main
ModuleNotFoundError: No module named 'pip._internal'
```
Solution: [4]

Installing pip3 by using python3 & upgrading pip
```python3 -m pip install --user --upgrade pip```


It is always SAFE to re-run the above installation codes to double check if everything is properly installed in the system. The third & final stage of verification is to check the installed versions of the software as well.

	mn --version
	ovs-vsctl --version
	iperf --version
	wireshark --version	
	ryu-manager --version
	
![version-check](https://github.com/biplabro/SDN-hands-on_Openflow-Mininet-RYU/blob/master/images/versions.png)

## Quick-Testing the installed setup sunctionality

Need to open 4 terminals ```CTRL+ALT+T```

In terminal 1:

Start wireshark with superuser privilages ```sudo wireshark``` to capture the data packets. There are better ways to give root privilages to ```dumpcap``` package [5] which is actually responsible for packet capturing. [6] 


### References
```
[1] https://linuxize.com/post/how-to-install-python-3-7-on-ubuntu-18-04/
[2] https://unix.stackexchange.com/questions/496461/how-to-make-python3-7-default
[3] https://phoenixnap.com/kb/how-to-install-pip-on-ubuntu
[4] https://github.com/pypa/pip/issues/5373#issuecomment-460214265
[5] https://www.wireshark.org/docs/man-pages/dumpcap.html
[6] https://blog.wireshark.org/2010/02/running-wireshark-as-you/
```
